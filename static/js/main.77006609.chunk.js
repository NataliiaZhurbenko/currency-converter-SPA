(this["webpackJsonpcurrency-converter-spa"]=this["webpackJsonpcurrency-converter-spa"]||[]).push([[0],{126:function(e,t,a){"use strict";a.r(t);var r=a(11),n=a.n(r),c=a(16),o=a(85),i=a(9),s="GET_CODES",u="GET_CODES_UNKNOWN_ERROR",l="GET_RATE",b="GET_RATE_UNKNOWN_ERROR",p="SET_AMOUNT_FROM",j="GET_ALL_RATES",d="GET_ALL_RATES_ERROR",O="ET_ALL_RATES_UNKNOWN_ERROR",f="CLOSE_ERROR_DIALOG",h="SET_AMOUNT_FROM_ERROR",y="SET_COUNTRY_CODE_FROM",m="SET_COUNTRY_CODE_TO",x="SET_BASE_COUNTRY_CODE";var g=Object(o.a)((function(e,t){var a;switch(t.type){case s:a=Object(i.a)(Object(i.a)({},e),{},{countryCodes:t.payload});break;case l:a=Object(i.a)(Object(i.a)({},e),{},{amountTo:(t.payload*e.amountFrom).toFixed(2)});break;case p:a=Object(i.a)(Object(i.a)({},e),{},{amountFrom:t.payload});break;case j:a=Object(i.a)(Object(i.a)({},e),{},{allCountriesRates:t.payload.rates,baseCurrency:t.payload.base});break;case d:a=Object(i.a)(Object(i.a)({},e),{},{allCountriesRates:{},baseCurrency:"",errorMessage:"Current API works only with EUR, otherwise please upgrade in https://fixer.io/product",isErrorDialogOpen:!0});break;case f:a=Object(i.a)(Object(i.a)({},e),{},{isErrorDialogOpen:!1});break;case y:a=Object(i.a)(Object(i.a)({},e),{},{countryCodeFrom:t.payload});break;case m:a=Object(i.a)(Object(i.a)({},e),{},{countryCodeTo:t.payload});break;case x:a=Object(i.a)(Object(i.a)({},e),{},{baseCountryCode:t.payload});break;case h:a=Object(i.a)(Object(i.a)({},e),{},{errorMessage:"Please enter number for amount value",isErrorDialogOpen:!0});break;case u:case b:case O:a=Object(i.a)(Object(i.a)({},e),{},{errorMessage:"Unknown server error: ".concat(t.payload),isErrorDialogOpen:!0});break;default:return e}return localStorage.setItem("data",JSON.stringify(a)),a}),function(){var e=localStorage.getItem("data");return e?Object(i.a)(Object(i.a)({},JSON.parse(e)),{},{amountTo:"",allCountriesRates:{}}):{countryCodes:[],amountTo:"",allCountriesRates:{},errorMessage:"",isErrorDialogOpen:!1,baseCurrency:"",baseCountryCode:"",countryCodeFrom:"",countryCodeTo:"",amountFrom:1}}()),v=a(43),C=a(0),E=a.n(C),R=a(14),T=a(52),k=a(48),_=a(20),N=a.n(_),w=a(32),S=a(166),A=a(184),D=a(170),F=a(181),M=a(173),U=a(172),B=a(60),L=a.n(B),G="7b4d5b2707fdadf7fa0b",I="b8071ba45ab1c8e67601acb74ccca492";function W(e){return K.apply(this,arguments)}function K(){return(K=Object(w.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get("https://free.currconv.com/api/v7/currencies?apiKey=".concat(G));case 3:a=e.sent,t({type:s,payload:Object.keys(a.data.results)}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:u,payload:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function J(e,t,a){return z.apply(this,arguments)}function z(){return(z=Object(w.a)(N.a.mark((function e(t,a,r){var n,c,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="https://free.currconv.com/api/v7/convert?apiKey=".concat(G,"&q=").concat(a,"_").concat(r,"&compact=ultra"),e.next=4,L.a.get(n);case 4:c=e.sent,o=c.data["".concat(a,"_").concat(r)],t({type:l,payload:o}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:b,payload:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function P(e,t){return Y.apply(this,arguments)}function Y(){return(Y=Object(w.a)(N.a.mark((function e(t,a){var r,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="EUR"===a?"":"&base=".concat(a),e.next=4,L.a.get("http://data.fixer.io/api/latest?access_key=".concat(I).concat(r));case 4:(n=e.sent).data.error?t({type:d,payload:n.data.error}):t({type:j,payload:{base:n.data.base,rates:n.data.rates}}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:O,payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var q=a(163),H=a(84),Q=a(61),V=Object(q.a)((function(e){return{paper:{background:"linear-gradient(45deg, #b388ff 30%, #7c4dff 90%)",marginTop:e.spacing(12),paddingTop:e.spacing(.5),width:e.spacing(55),height:e.spacing(38),textAlign:"center",margin:"auto","& > h1":{color:Q.a[300],textTransform:"uppercase"},"& .MuiTextField-root":{marginRight:e.spacing(2),marginBottom:e.spacing(3)}},submitButton:{color:Q.a[50],textTransform:"uppercase"},formControl:{width:e.spacing(12)}}})),X=Object(H.a)({palette:{primary:{main:Q.a[600]}}}),Z=a(4);function $(){var e=Object(c.c)((function(e){return e.countryCodes})),t=Object(c.c)((function(e){return e.amountTo})),a=Object(c.c)((function(e){return e.countryCodeFrom})),r=Object(c.c)((function(e){return e.countryCodeTo})),n=Object(c.c)((function(e){return e.amountFrom})),o=Object(C.useState)(null),i=Object(v.a)(o,2),s=i[0],u=i[1],l=Object(c.b)(),b=V();function j(){return(j=Object(w.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==n&&!isNaN(Number(n))){e.next=5;break}l({type:h}),e.next=7;break;case 5:return e.next=7,J(l,a,r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(C.useEffect)((function(){W(l)}),[l]),Object(C.useEffect)((function(){""===a&&""===r&&e.length>0&&(l({type:y,payload:e[0]}),l({type:m,payload:e[0]}))}),[l,e]),Object(Z.jsx)("div",{children:Object(Z.jsxs)(S.a,{className:b.paper,children:[Object(Z.jsx)("h1",{children:"Currency Converter"}),Object(Z.jsxs)("form",{children:[Object(Z.jsxs)("div",{children:[Object(Z.jsx)(A.a,{id:"standard-select-currency",variant:"outlined",label:"amount",value:null===s?n:s,onChange:function(e){return u(e.target.value)},onBlur:function(e){return l({type:p,payload:e.target.value})},autoComplete:"off"}),Object(Z.jsx)(D.a,{className:b.formControl,variant:"outlined",onChange:function(e){return l({type:y,payload:e.target.value})},children:Object(Z.jsx)(F.a,{native:!0,value:a,children:e.map((function(e,t){return Object(Z.jsx)("option",{value:e,children:e},t)}))})})]}),Object(Z.jsxs)("div",{children:[Object(Z.jsx)(A.a,{id:"standard-select-currency-native",variant:"outlined","aria-readonly":!0,label:"native currency amount",value:t}),Object(Z.jsx)(D.a,{className:b.formControl,variant:"outlined",onChange:function(e){return l({type:m,payload:e.target.value})},children:Object(Z.jsx)(F.a,{native:!0,value:r,children:e.map((function(e,t){return Object(Z.jsx)("option",{value:e,children:e},t)}))})})]}),Object(Z.jsx)(U.a,{theme:X,children:Object(Z.jsx)(M.a,{variant:"contained",color:"primary",className:b.submitButton,size:"large",onClick:function(e){return j.apply(this,arguments)},children:"Convert"})})]})]})})}var ee=a(171),te=a(174),ae=a(175),re=Object(q.a)((function(e){return{paper:{background:"linear-gradient(45deg, #b388ff 30%, #7c4dff 90%)",marginTop:e.spacing(15),width:e.spacing(55),overflow:"auto",maxHeight:e.spacing(65),textAlign:"center",margin:"auto","& > h1":{color:Q.a[300],textTransform:"uppercase"}},submitButton:{color:Q.a[50],textTransform:"uppercase",marginBottom:e.spacing(2)},formControl:{width:e.spacing(12),marginBottom:e.spacing(3)}}})),ne=Object(H.a)({palette:{primary:{main:Q.a[600]}}});function ce(){var e=Object(c.c)((function(e){return e.countryCodes})),t=Object(c.c)((function(e){return e.allCountriesRates})),a=Object(c.c)((function(e){return e.baseCurrency})),r=Object(c.c)((function(e){return e.baseCountryCode})),n=Object(c.b)(),o=re();function i(){return(i=Object(w.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,P(n,r);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(C.useEffect)((function(){W(n)}),[n]),Object(C.useEffect)((function(){""===r&&e.length>0&&n({type:x,payload:e[0]})}),[e,n]),Object(Z.jsx)("div",{children:Object(Z.jsxs)(S.a,{className:o.paper,children:[Object(Z.jsx)("h1",{children:"All currencies list"}),Object(Z.jsxs)("form",{children:[Object(Z.jsx)("div",{children:Object(Z.jsx)(D.a,{className:o.formControl,variant:"outlined",onChange:function(e){return n({type:x,payload:e.target.value})},children:Object(Z.jsx)(F.a,{native:!0,value:r,children:e.map((function(e,t){return Object(Z.jsx)("option",{value:e,children:e},t)}))})})}),Object(Z.jsx)("div",{}),Object(Z.jsx)(U.a,{theme:ne,children:Object(Z.jsx)(M.a,{variant:"contained",color:"primary",className:o.submitButton,size:"large",onClick:function(e){return i.apply(this,arguments)},children:"Convert"})})]}),Object(Z.jsx)(ee.a,{children:Object(Z.jsx)("ul",{children:Object.keys(t).map((function(e,r){return Object(Z.jsx)(te.a,{children:Object(Z.jsx)(ae.a,{primary:"1 ".concat(e," = ").concat((1/t[e]).toFixed(2)," ").concat(a)})},"country-".concat(e))}))})})]})})}var oe=a(5),ie=a(182),se=a(176),ue=Object(oe.a)({indicator:{display:"flex",justifyContent:"center",backgroundColor:"transparent","& > span":{maxWidth:100,width:"100%",backgroundColor:"#635ee7"}}})((function(e){return Object(Z.jsx)(ie.a,Object(i.a)(Object(i.a)({},e),{},{TabIndicatorProps:{children:Object(Z.jsx)("span",{})}}))})),le=Object(oe.a)((function(e){return{root:{textTransform:"none",color:"#fff",fontWeight:e.typography.fontWeightRegular,fontSize:e.typography.pxToRem(20),marginRight:e.spacing(4),"&:focus":{opacity:1}}}}))((function(e){return Object(Z.jsx)(se.a,Object(i.a)({disableRipple:!0},e))})),be=Object(q.a)((function(e){return{root:{flexGrow:1},padding:{padding:e.spacing(1)},navbar:{backgroundColor:"#b388ff"}}})),pe="/currency-converter-spa",je="".concat(pe,"/"),de="".concat(pe,"/all-currencies-list");function Oe(){var e=Object(C.useState)(0),t=Object(v.a)(e,2),a=t[0],r=t[1],n=Object(R.f)();Object(C.useEffect)((function(){n.pathname===je?r(0):r(1)}),[n]);var c=be();return Object(Z.jsxs)("div",{className:c.root,children:[Object(Z.jsxs)("div",{className:c.navbar,children:[Object(Z.jsxs)(ue,{value:a,onChange:function(e,t){r(t)},children:[Object(Z.jsx)(le,{selected:!0,label:"Currency Converter",component:T.b,to:je}),Object(Z.jsx)(le,{label:"All Currencies List",component:T.b,to:de})]}),Object(Z.jsx)(k.a,{className:c.padding})]}),Object(Z.jsxs)(R.c,{children:[Object(Z.jsx)(R.a,{exact:!0,path:je,component:$}),Object(Z.jsx)(R.a,{exact:!0,path:de,component:ce})]})]})}var fe=a(185),he=a(180),ye=a(178),me=a(179),xe=a(177);function ge(){var e=E.a.useState(!1),t=Object(v.a)(e,2),a=t[0],r=t[1],n=Object(c.c)((function(e){return e.errorMessage})),o=Object(c.b)(),i=Object(c.c)((function(e){return e.isErrorDialogOpen}));Object(C.useEffect)((function(){r(i)}),[i]);var s=function(){o({type:f})};return Object(Z.jsx)("div",{children:Object(Z.jsxs)(fe.a,{open:a,onClose:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(Z.jsx)(xe.a,{id:"alert-dialog-title",children:"ERROR"}),Object(Z.jsx)(ye.a,{children:Object(Z.jsx)(me.a,{id:"alert-dialog-description",children:Object(Z.jsx)("strong",{children:n})})}),Object(Z.jsx)(he.a,{children:Object(Z.jsx)(M.a,{onClick:s,color:"secondary",children:"Ok"})})]})})}function ve(){return Object(Z.jsxs)(T.a,{children:[Object(Z.jsx)(Oe,{}),Object(Z.jsx)(ge,{})]})}n.a.render(Object(Z.jsx)(c.a,{store:g,children:Object(Z.jsx)(ve,{})}),document.getElementById("root"))}},[[126,1,2]]]);
//# sourceMappingURL=main.77006609.chunk.js.map